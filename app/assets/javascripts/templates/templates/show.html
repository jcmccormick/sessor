<h1 class="page-header">Templates</h1>

<div class="stick col-xs-9 col-sm-6 col-md-6">
  <div class="btn-group btn-group-justified">
    <div class="input-group">
      <span class="input-group-btn">
        <a href="#/templates/new" class="btn btn-info">New Template</a>
      </span>
      <input type="text" class="form-control" ng-model="keywords" placeholder="Search your templates..." disabled="disabled" autofocus>
      <span class="input-group-btn">
        <a role="button" ng-click="keywords = ''" class="btn btn-primary btn-md" disabled="disabled">Search</a>
      </span>
    </div>
  </div>
</div>

<div class="text-center">
  <bgf-pagination collection="templates" url="'api/templates/'" transform-response="parseTemplateSections"></bgf-pagination>
</div>

<!-- BEGIN TEMPLATES LIST -->
<div role="tablist" class="panel-group panel-carat" id="templates-accordion" ng-if="templates">
  <div class="panel panel-info" ng-repeat="template in templates | filter: keywords | orderBy: '-id'">


    <!-- BEGIN SECTION HEADER -->
    <div class="panel-heading"
    data-toggle="collapse" 
    data-target="#collapse{{template.id}}" 
    data-parent="#templates-accordion" 
    aria-controls="collapse{{template.id}}">
      {{template.name}}
    </div>
    <!-- END SECTION HEADER -->


    <!-- BEGIN SECTION INFO PANEL -->
    <div role="tabpanel" id="collapse{{template.id}}" class="panel-collapse collapse" aria-labelledby="heading{{template.id}}-tab">
      <div class="panel-body" bs-popover>
        <div class="form-group">
          <template-form-directive form="template"></template-form-directive>
        </div>
      </div>
      <div class="panel-footer">
        <a href="#/templates/{{template.id}}/edit" class="btn btn-info">Edit</a>
      </div>
    </div>
    <!-- END SECTION INFO PANEL -->


  </div>
</div>
<!-- END TEMPLATES LIST -->