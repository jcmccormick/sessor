<md-card>
    <md-toolbar class="md-site-secondary">
        <div class="md-toolbar-tools">
            <h2>
                <span>Statistics</span>
            </h2>
        </div>
    </md-toolbar>

    <div layout="row" layout-padding>
        <div layout="column" layout-align="center center" layout-margin>
<!--             <strong>Page</strong> -->
            <md-select ng-model="sv.template" ng-change="sv.checker()">
                <md-option ng-repeat="template in sv.orderedTemplates = (sv.templates | orderBy:'-updated_at')" ng-value="template">{{template.name}}</md-option>
            </md-select>
        </div>
<!-- 
        <div layout="column" layout-align="center center" layout-margin>
            <strong>Field</strong>
            <md-select ng-model="sv.field">
                <md-option ng-repeat="field in sv.filteredFields = ( sv.template.fields | filter: {fieldtype: '!labelntext'} )" ng-value="field">{{field.o.name}}</md-option>
            </md-select>
        </div>
    
        <div layout="column" layout-align="center center" layout-margin>
            <strong>Past # of Days</strong>
            <md-select ng-model="sv.days">
                <md-option ng-repeat="day in [5, 10, 15, 30, 60, 90]" value="{{day}}">{{day}}</md-option>
            </md-select>
        </div>
 -->
    
        <div layout="column" layout-align="center center" layout-margin>
            <md-input-container>
                <label>Query</label>
                <input type="text" ng-model="sv.query" />
            </md-input-container>
        </div>

        <md-button ng-click="sv.update()" aria-label="update graph with selected options">
            Update
        </md-button>

        <md-button ng-click="sv.chart.data = {};sv.chartEditor.closeDialog()" aria-label="clear graph display">
            Clear
        </md-button>
    </div>

    <span layout-padding layout-margin ng-if="!sv.chartEditor">Initializing chart options...</span>

    <md-button ng-click="sv.loadEditor()" ng-if="sv.chartEditor" aria-label="edit graph options">
        Edit
    </md-button>

    <div id="google-chart"></div>

</md-card>