<h1 class="page-header">Reports</h1>


<div class="stick col-xs-9 col-sm-6 col-md-6">
  <div class="btn-group btn-group-justified">
    <div class="input-group">
      <span class="input-group-btn">
        <a href="#/reports/new" class="btn btn-success">New</a>
      </span>
      <input type="text" class="form-control" ng-model="keywords" placeholder="Search reports..." autofocus>
      <span class="input-group-btn">
        <a role="button" ng-click="setParams()" class="btn btn-primary btn-md">Search</a>
      </span>
    </div>
  </div>
</div>

<div class="text-center">
  <bgf-pagination collection="reports" url="'api/reports'" url-params="urlParams"></bgf-pagination>
</div>

<div role="tablist" class="panel-group panel-carat" id="reports-accordion" ng-if="reports">
  <div class="panel panel-default view-all-accordion" ng-repeat="report in reports">

    <!-- BEGIN SECTION HEADER -->
    <div class="panel-heading"
    data-toggle="collapse" 
    data-target="#collapse{{report.id}}" 
    data-parent="#reports-accordion" 
    aria-controls="collapse{{report.id}}">
      <h4 ng-show="report.title">{{report.title}} <small>#{{report.id}}</small> <small ng-show="user.uid != report.users[0].uid">by {{report.users[0].uid}}</small></h4>
      <h4 ng-show="!report.title">{{report.template.name}} <small>#{{report.id}}</small></h4>
    </div>
    <!-- END SECTION HEADER -->


    <!-- BEGIN SECTION INFO PANEL -->
    <div role="tabpanel" id="collapse{{report.id}}" class="panel-collapse collapse view-all-panel" aria-labelledby="heading{{report.id}}-tab">
      <div class="panel-body">
        <a href="#/reports/{{report.id}}/edit" class="btn btn-info">Edit</a>
      </div>
    </div>
    <!-- END SECTION INFO PANEL -->
  </div>
</div>