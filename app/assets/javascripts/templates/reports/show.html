<h1 class="page-header">Reports</h1>


<div class="stick col-xs-9 col-sm-6 col-md-6">
  <div class="btn-group btn-group-justified">
    <div class="input-group">
      <span class="input-group-btn">
        <a href="#/reports/new" class="btn btn-info">New Report</a>
      </span>
      <input type="text" class="form-control" ng-model="keywords" placeholder="Search your reports..." disabled="disabled" autofocus>
      <span class="input-group-btn">
        <a role="button" ng-click="keywords = ''" class="btn btn-primary btn-md" disabled="disabled">Search</a>
      </span>
    </div>
  </div>
</div>

<div class="text-center">
  <bgf-pagination collection="reports" url="'api/reports/'" transform-response="parseReportTemplate"></bgf-pagination>
</div>

<div role="tablist" class="panel-group panel-carat" id="reports-accordion" ng-if="reports">
  <div class="panel panel-info" ng-repeat="report in reports | filter: keywords | orderBy: '-id'">


    <!-- BEGIN SECTION HEADER -->
    <div class="panel-heading"
    data-toggle="collapse" 
    data-target="#collapse{{report.id}}" 
    data-parent="#reports-accordion" 
    aria-controls="collapse{{report.id}}">
      <h4 ng-show="!report.name">{{report.template.name}} <small>#{{report.id}}</small></h4>
      <h4 ng-show="report.name">{{report.name}}</h4>
    </div>
    <!-- END SECTION HEADER -->


    <!-- BEGIN SECTION INFO PANEL -->
    <div role="tabpanel" id="collapse{{report.id}}" class="panel-collapse collapse" aria-labelledby="heading{{report.id}}-tab">
      <div class="panel-body" bs-popover>
        <div class="form-group">

          <pre>{{report | json }}</pre>
          <template-form-directive form="report"></template-form-directive>
        </div>
      </div>
      <div class="panel-footer">
        <a href="#/reports/{{report.id}}/edit" class="btn btn-info">Edit</a>
      </div>
    </div>
    <!-- END SECTION INFO PANEL -->
  </div>
</div>