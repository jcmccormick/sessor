<div class="form-header">
    <section>
        <ul class="nav top-nav">
            <li><a href="/reports/new"><i class="glyphicon glyphicon-plus"></i> &nbsp; New</a></li>
            <li><input type="text" class="form-control" placeholder="Search" ng-model="vr.keywords" ng-change="vr.currentPage = 0"></li>
            <li><select class="form-control" ng-model="vr.pageSize" ng-options="distance as distance for distance in [10, 25, 50, 100]" ng-change="vr.currentPage = 0"></select></li>
            <li><h5><p>per page</p></h5></li>
            <li><a href="javascript:;" ng-class="{'disabled':vr.currentPage==0}" ng-click="vr.currentPage = vr.currentPage-1"><i class="glyphicon glyphicon-triangle-left"></i></a></li>
            <li><h5><p>{{(vr.filteredList.length && vr.currentPage+1) || 0}} of {{(vr.filteredList.length && vr.numPages()) || 0}}</p></h5></li>
            <li><a href="javascript:;" ng-class="{'disabled':vr.filteredList.length && vr.currentPage>=vr.numPages()-1}" ng-click="vr.currentPage = vr.currentPage+1"><i class="glyphicon glyphicon-triangle-right"></i></a></li>
        </ul>
    </section>
</div>

<section ng-form="vr.repForm" class="col-xs-12">
    <table class="table table-striped">
        <thead>
            <tr>
                <th><a href="javascript:;" ng-click="vr.sortType = 'id'; vr.sortReverse = !vr.sortReverse"># &nbsp; 
                    <md-icon ng-show="vr.sortType=='id' && !vr.sortReverse">expand_more</md-icon> 
                    <md-icon ng-show="vr.sortType=='id' && vr.sortReverse">expand_less</md-icon
                </a></th>
                <th>Actions</th>
                <th><a href="javascript:;" ng-click="vr.sortType = 'title'; vr.sortReverse = !vr.sortReverse">Name &nbsp; 
                    <md-icon ng-show="vr.sortType=='title' && !vr.sortReverse">expand_more</md-icon> 
                    <md-icon ng-show="vr.sortType=='title' && vr.sortReverse">expand_less</md-icon
                </a></th>
                <th><a href="javascript:;" ng-click="vr.sortType = 'templates[0].name'; vr.sortReverse = !vr.sortReverse">Pages &nbsp;
                    <md-icon ng-show="vr.sortType=='templates[0].name' && !vr.sortReverse">expand_more</md-icon> 
                    <md-icon ng-show="vr.sortType=='templates[0].name' && vr.sortReverse">expand_less</md-icon
                </a></th>
                <th><a href="javascript:;" ng-click="vr.sortType = 'updated_at'; vr.sortReverse = !vr.sortReverse">Updated &nbsp; 
                    <md-icon ng-show="vr.sortType=='updated_at' && !vr.sortReverse">expand_more</md-icon> 
                    <md-icon ng-show="vr.sortType=='updated_at' && vr.sortReverse">expand_less</md-icon
                </a></th>
            </tr>
        </thead>
        <tbody ng-if="vr.reports.length">
            <tr ng-repeat="report in vr.filteredList = (vr.reports | filter:vr.keywords) | orderBy:vr.sortType:vr.sortReverse | startFrom:vr.currentPage*vr.pageSize | limitTo: 5">
                <td>{{report.id}}</td>
                <td>
                    <md-button class="md-icon-button md-primary" href="/reports/{{report.id}}">
                        <md-tooltip md-direction="bottom">
                            View
                        </md-tooltip>
                        <md-icon>search</md-icon>
                    </md-button> 
                    <md-button class="md-icon-button md-primary" href="/reports/{{report.id}}/edit">
                        <md-tooltip md-direction="bottom">
                            Edit
                        </md-tooltip>
                        <md-icon>create</md-icon>
                    </md-button>
                    <md-button class="md-icon-button md-warn" href="javascript:;" ng-click="vr.delete(report, $event)">
                        <md-tooltip md-direction="bottom">
                            Delete
                        </md-tooltip>
                        <md-icon>delete</md-icon>
                    </md-button>
                </td>
                <td>{{report.title || 'Untitled'}}</td>
                <td><span ng-repeat="template in report.templates track by $index">{{template.name}}<span ng-show="!$last">, </span></span></td>
                <td>{{report.updated_at | date: 'short'}}</td>
            </tr>
        </tbody>
    </table>
</section>